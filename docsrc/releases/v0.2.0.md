# v0.2.0 Release Notes

**Release Date:** 2026-01-17

OmniStorage v0.2.0 is a security and maintenance release that addresses an important security issue in the SFTP backend and improves cross-platform compatibility.

## Highlights

- **SFTP Security Fix** - Host key verification now enabled by default
- **Cross-Platform Improvements** - Better timestamp comparison across filesystems
- **Dependency Updates** - Updated compress, crypto, and mogo dependencies

## Installation

```bash
go get github.com/grokify/omnistorage@v0.2.0
```

## Upgrading from v0.1.0

### Breaking Change: SFTP Host Key Verification

The SFTP backend now **requires** the server's host key to be present in your `~/.ssh/known_hosts` file. This change prevents man-in-the-middle attacks.

**Before (v0.1.0):** Connections were accepted without verifying the server's identity.

**After (v0.2.0):** The server's host key must be in `~/.ssh/known_hosts`.

**Migration steps:**

1. Ensure you have connected to the SFTP server via SSH at least once:
   ```bash
   ssh user@your-sftp-server.com
   ```
   This adds the server's host key to your known_hosts file.

2. Or manually add the host key:
   ```bash
   ssh-keyscan your-sftp-server.com >> ~/.ssh/known_hosts
   ```

If you encounter connection errors after upgrading, verify the server's host key is in your known_hosts file.

## Security

| Change | Description |
|--------|-------------|
| SFTP host key verification | Now uses `~/.ssh/known_hosts` instead of `InsecureIgnoreHostKey()` to prevent MITM attacks |

## Changed

| Change | Description |
|--------|-------------|
| SFTP backend | Requires server host key in `~/.ssh/known_hosts` file |
| Timestamp comparison | Uses `oscompat/tsync` for cross-platform filesystem timestamp precision handling in `sync.NeedsUpdate()` |

## Dependencies

| Package | Change |
|---------|--------|
| `github.com/grokify/oscompat` | Added v0.1.0 (new dependency) |
| `github.com/klauspost/compress` | 1.18.2 -> 1.18.3 |
| `golang.org/x/crypto` | 0.46.0 -> 0.47.0 |
| `github.com/grokify/mogo` | 0.72.5 -> 0.72.6 |

## Documentation

- Consistent capitalization: "Omnistorage" renamed to "OmniStorage" throughout documentation
- TRD.md formatting fixes

## Known Limitations

- SFTP backend requires known_hosts file (see migration steps above)
- Dropbox backend is not yet implemented (config only)
- No CLI tool yet (planned for future release)

## Documentation

- [README](https://github.com/grokify/omnistorage)
- [API Reference](https://pkg.go.dev/github.com/grokify/omnistorage)
- [Full Documentation](https://grokify.github.io/omnistorage/)

## What's Next

See the [Roadmap](../roadmap.md) for planned features.

## License

MIT License - see [LICENSE](https://github.com/grokify/omnistorage/blob/main/LICENSE)
